<!-- register.component.html -->
<div class="container">
    <div class="tittle">Register</div>
<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form">
    <div>
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" formControlName="firstName" />
        <div class="errors">
            <div *ngIf="userForm.get('firstName')?.hasError('required')&&userForm.get('firstName')?.touched">First Name is required.</div>
            <div *ngIf="userForm.get('firstName')?.hasError('maxlength')&&userForm.get('firstName')?.touched">First Name can be at most 20 characters.</div>
        </div>
    </div>

    <div>
        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" formControlName="lastName" />
        <div class="errors">
            <div *ngIf="userForm.get('lastName')?.hasError('required')&&userForm.get('lastName')?.touched">Last Name is required.</div>
            <div *ngIf="userForm.get('lastName')?.hasError('maxlength')&&userForm.get('lastName')?.touched">Last Name can be at most 20 characters.</div>
        </div>
    </div>

    <div>
        <label for="mobileNumber">Mobile Number:</label>
        <input type="text" id="mobileNumber" formControlName="mobileNumber" />
        <div class="errors">
            <div *ngIf="userForm.get('mobileNumber')?.hasError('required')&&userForm.get('mobileNumber')?.touched">Mobile Number is required.</div>
            <div *ngIf="userForm.get('mobileNumber')?.hasError('pattern')&&userForm.get('mobileNumber')?.touched">Invalid mobile number.</div>
            <div *ngIf="userForm.get('mobileNumber')?.hasError('maxlength')&&userForm.get('mobileNumber')?.touched">Mobile Number can be at most 10 digits.</div>
        </div>
    </div>

    <div>
        <label for="email">Email:</label>
        <input type="text" id="email" formControlName="email" />
        <div class="errors">
            <div *ngIf="userForm.get('email')?.hasError('required')&&userForm.get('email')?.touched">Email is required</div>
            <div *ngIf="userForm.get('email')?.hasError('email')&&userForm.get('email')?.touched">Invalid email address.</div>
        </div>
    </div>

    <button [disabled]="userForm.invalid" type="submit">Submit</button>
</form>

<table *ngIf="users.length > 0" class="table">
    <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Mobile Number</th>
            <th>Email</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of users">
            <td>{{ user.firstName }}</td>
            <td>{{ user.lastName }}</td>
            <td>{{ user.mobileNumber }}</td>
            <td>{{ user.email }}</td>
        </tr>
    </tbody>
</table>
</div>